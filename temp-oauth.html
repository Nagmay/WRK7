<!DOCTYPE html>
<html class=''>

<head>
	<meta charset='UTF-8'>
	<link rel='stylesheet prefetch' href='https://cdnjs.cloudflare.com/ajax/libs/foundation/6.3.0/css/foundation.min.css'>
</head>

<body>
	
	<div class="row">
		<div class="columns small-12">
		<h3>OAuth</h3>
            <p>Must include <strong>'show_in_rest' => true,</strong> in the register_post_type args. <a href="https://developer.wordpress.org/rest-api/extending-the-rest-api/adding-rest-api-support-for-custom-content-types/">Learn more...</a></p>
			<div class="row">
				<form>
                <div class="columns small-3">Custom post type:</div>
                <div class="columns small-7"><input type="text" id="post_type" placeholder="your_post_type" /></div>
                <div class="columns small-2"></div>
                <div class="columns small-3">From:</div>
                <div class="columns small-7"><input type="text" id="goto10" placeholder="http://yoursite.edu" /></div>
				<div class="columns small-2"><input type="submit" class="button" value="GET some" /></div> 
				</form>
			</div>
			<div id="info"></div>
			<div id="content"></div>
		</div>
	</div>	

	
	<script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js'></script>
    <script src='https://cdnjs.cloudflare.com/ajax/libs/foundation/6.3.0/js/foundation.min.js'></script>
	
	<script src='_source/oauth-1.0a/oauth-1.0a.js'></script>
	<script src='https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.2/rollups/hmac-sha1.js'></script>
	
	<script>
        $(document).foundation();
        	
		$(document).ready(function() {
			
			
			var oauth = OAuth({
				consumer: {
					key: 'Yv0ScEsEUqs9',
					secret: 'lUvOq9pQXioQWpCgefYGzFcj9yiUJwqSdcYnqtxnsaqsmnjC'
				},
				signature_method: 'HMAC-SHA1',
				last_ampersand: false,
				hash_function: function(base_string, key) {
					return CryptoJS.HmacSHA1(base_string, key).toString(CryptoJS.enc.Base64);
				}
			});
			
			var token = {
				key: '6S4z6jCld2SCI6xWDZNU7ZhT',
				secret: '08Qap1rkZo3mBBoHcnH4ULbs8SVc6A7syoRYGqx5e9LSNUt1'

			};

			var request_data = {
				url: 'http://allgrain.beer/wp-json/wp/v2/users',
				method: 'GET',
				data: {
					//status: ''
				}
			};
			
			$.ajax({
				url: request_data.url,
				type: request_data.method,
				data: request_data.data,
				headers: oauth.toHeader(oauth.authorize(request_data, token))
			}).done(function(data) {
				//process your data here
				alert("done");
				$('#content').append('<xmp>' + JSON.stringify(data, null, 2) + '</xmp>');
			}).fail(function(error) {
    			alert( "Error: " + error.responseText );
  			});
			
		});
	</script>
</body>


</html>